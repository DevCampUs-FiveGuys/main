<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<div th:fragment="header">

    <div class="lines-wrap">
        <div class="lines-inner">
            <div class="lines"></div>
        </div>
    </div>
    <!-- END lines -->

    <div class="site-mobile-menu site-navbar-target">
        <div class="site-mobile-menu-header">
            <div class="site-mobile-menu-close">
                <span class="icofont-close js-menu-toggle"></span>
            </div>
        </div>
        <div class="site-mobile-menu-body"></div>
    </div>
    <nav class="site-nav">
        <div class="container">
            <div class="site-navigation">
                <a th:href="@{/}">
                    <img th:src="@{/images/Logo3.png}" style="width: 20%; cursor: pointer">
                </a>
                <ul class="js-clone-nav d-none d-lg-inline-block text-left float-right site-menu" th:with="profileUrl=${photo != null ? 'https://kr.object.ncloudstorage.com/bitcamp-bucket-149/semiproject/' + photo : '/images/empty.png'}">
                    <li><a th:href="@{/}" th:classappend="${page == 'home' ? 'active' : ''}">Home</a></li>
                    <li><a th:href="@{/review/list}" th:classappend="${page == 'review' ? 'active' : ''}">Review</a></li>
                    <li><a th:href="@{/portfolio/list}" th:classappend="${page == 'portfolio' ? 'active' : ''}">Portfolio</a></li>
                    <li><a th:href="@{/qna/list}" th:classappend="${page == 'qna' ? 'active' : ''}">QnA</a></li>
                    <li th:if="${#authorization.expression('isAuthenticated()')}"><a th:href="|/mypage|">
                        <img th:src="@{${profileUrl}}" onerror="this.onerror=null; this.src='/images/empty.png';"
                             style="width: 40px; height: 40px; display: inline-block; border-radius: 50%;">
                        <p th:text="${userName}" style="display: inline-block"></p></a></li>
                    <li sec:authorize="!isAuthenticated()"><a th:href="@{/signup}" th:classappend="${page == 'signup' ? 'active' : ''}">Sign up</a></li>
                    <li sec:authorize="!isAuthenticated()" class="cta-button active"><a th:href="@{/login}">Login</a>
                    </li>
                    <li sec:authorize="isAuthenticated()" class="cta-button active"><a th:href="@{/logout}">logout</a>
                    </li>
                </ul>

                <a href="#" class="burger ml-auto float-right site-menu-toggle js-menu-toggle d-inline-block d-lg-none"
                   data-toggle="collapse" data-target="#main-navbar">
                    <span></span>
                </a>

            </div>
        </div>
    </nav>
    <div id="overlayer"></div>
    <div class="loader">
        <div class="spinner-border" role="status">
            <span class="sr-only">Loading...</span>
        </div>
    </div>

</div>
</html>